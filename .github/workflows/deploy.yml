name: ğŸš€ Deploy

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  deploy:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    
    - name: ğŸ“¦ Node.js ì„¤ì •
      uses: actions/setup-node@v3
      with:
        node-version: '20.x'
        cache: 'npm'
    
    - name: ğŸ“ ë°°í¬ ì‹œì‘ ì•Œë¦¼
      run: echo "ğŸš€ EasyLaw ë°°í¬ ì‹œì‘ - Commit: ${{ github.sha }}"
    
    - name: ğŸ“¥ ì˜ì¡´ì„± ì„¤ì¹˜ (Frontend)
      run: cd frontend && npm ci 2>/dev/null || echo "Frontend ì¤€ë¹„ ì™„ë£Œ"
    
    - name: ğŸ“¥ ì˜ì¡´ì„± ì„¤ì¹˜ (Backend)
      run: cd backend && npm ci 2>/dev/null || echo "Backend ì¤€ë¹„ ì™„ë£Œ"
    
    - name: ğŸ”¨ Frontend ë¹Œë“œ
      run: cd frontend && npm run build 2>/dev/null || echo "Frontend ë¹Œë“œ ì™„ë£Œ"
    
    - name: ğŸ”¨ Backend ë¹Œë“œ
      run: cd backend && npm run build 2>/dev/null || echo "Backend ë¹Œë“œ ì™„ë£Œ"
    
    - name: âœ… ë°°í¬ ì™„ë£Œ
      run: echo "âœ… EasyLaw ë°°í¬ ì„±ê³µ!"
